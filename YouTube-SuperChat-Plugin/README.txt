================================================================================
YouTube SuperChat Plugin for OBS Studio
================================================================================

■ 概要
YouTubeライブ配信のスーパーチャット、スーパーステッカー、通常チャットに
反応して、画面に妨害エフェクトを発生させるOBS Studioプラグインです。

■ 機能
- スーパーチャット: 金額に応じた画面縮小・妨害エフェクト
- スーパーステッカー: 画面回復エフェクト
- 通常チャット: 100円相当の軽い妨害エフェクト

■ 動作環境
- Windows 10/11 (64bit)
- OBS Studio 32.0以降
- YouTube Data API v3 キー（無料で取得可能）

================================================================================
■ インストール方法
================================================================================

1. INSTALL.bat を右クリック → 「管理者として実行」

2. OBS Studioを再起動

これだけでインストール完了です！

================================================================================
■ YouTube API キーの取得方法
================================================================================

1. Google Cloud Console にアクセス
   https://console.cloud.google.com/

2. 新しいプロジェクトを作成
   - プロジェクト名: 任意（例: OBS YouTube Plugin）

3. YouTube Data API v3 を有効化
   - 左メニュー「APIとサービス」→「ライブラリ」
   - 「YouTube Data API v3」を検索
   - 「有効にする」をクリック

4. APIキーを作成
   - 左メニュー「APIとサービス」→「認証情報」
   - 「認証情報を作成」→「APIキー」
   - 生成されたキーをコピー

5. APIキーを制限（推奨）
   - 作成したキーの編集ボタンをクリック
   - 「APIの制限」→「キーを制限」
   - 「YouTube Data API v3」のみにチェック
   - 「保存」

■ 無料枠について
- 1日あたり10,000クォータユニット
- チャット取得: 1リクエスト約5ユニット
- 5秒ごとに取得する場合、約1日中使用可能

================================================================================
■ 使い方
================================================================================

【初回設定】

1. OBS Studioを起動

2. メニューバーから「ツール」→「YouTube SuperChat Plugin Settings」

3. 基本設定タブで以下を入力:
   - API Key: 取得したYouTube APIキーを貼り付け
   - Video ID: ライブ配信のVideo IDを入力
     ※ URLが https://youtube.com/watch?v=XXXXXXXXXXX の場合
        Video IDは「XXXXXXXXXXX」の部分
   - Main Source: 妨害対象のソース名（例: ゲームキャプチャ）

4. エフェクト設定
   - Enable Obstructions: スーパーチャットで妨害を有効化
   - Enable Recovery: スーパーステッカーで回復を有効化
   - Obstruction Intensity: 妨害の強度（1.0が標準）
   - Recovery Intensity: 回復の強度（1.0が標準）

5. 「保存」ボタンをクリック


【配信時の使用】

1. 設定ダイアログを再度開く
   ツール → YouTube SuperChat Plugin Settings

2. 「モニタリング開始」ボタンをクリック

3. ステータスが「🟢 モニタリング中」に変わることを確認

4. 視聴者がチャットやスーパーチャットを送信すると自動的にエフェクト発動！


【配信終了時】

1. 設定ダイアログを開く

2. 「モニタリング停止」ボタンをクリック

3. OBSを終了（自動的に停止されます）


【エフェクト設定のカスタマイズ】

「エフェクト設定」タブで、金額ごとに特定のエフェクトを設定できます:

1. 「新規追加」ボタンをクリック

2. 設定項目:
   - 金額: この金額以上のスーパーチャットで発動（JPY）
   - アクション: 発動するエフェクトの種類
     * 画面縮小
     * 画面回転
     * ランダム妨害
     * その他多数...
   - 持続時間: エフェクトが続く秒数

3. 「保存」をクリック

例: 5000円以上で10秒間画面を90度回転させる
   金額: 5000
   アクション: 90度回転
   持続時間: 10.0


【テスト機能】

APIキーなしでエフェクトをテストできます:

1. 基本設定タブの「Test Effects」セクション

2. テスト金額を入力（例: 5000 JPY）

3. 「テスト実行 (SuperChat)」または「テスト実行 (SuperSticker)」

4. OBSプレビューでエフェクトを確認

================================================================================
■ トラブルシューティング
================================================================================

【プラグインが読み込まれない】
→ OBSのログファイルを確認
  ヘルプ → ログファイル → 現在のログファイルを表示

【「TLS initialization failed」エラー】
→ TLSプラグインが正しくインストールされているか確認
  C:\Program Files\obs-studio\bin\64bit\tls\ フォルダ内に
  qschannelbackend.dll が存在するか確認

【チャットが検出されない】
→ 以下を確認:
  1. 「モニタリング開始」ボタンを押したか
  2. APIキーとVideo IDが正しいか
  3. ライブ配信が開始されているか
  4. OBSログに「Live chat ID: XXX」が表示されているか

【API制限エラー】
→ YouTube APIの無料枠（10,000ユニット/日）を超えた可能性
  Google Cloud Consoleで使用量を確認

【エフェクトが発動しない】
→ 以下を確認:
  1. Main Sourceが正しく設定されているか
  2. Enable Obstructions/Recoveryが有効か
  3. 該当するソースがシーンに存在するか

================================================================================
■ ライセンス・免責事項
================================================================================

このプラグインは「現状のまま」提供されます。
使用によって生じたいかなる損害についても、作者は責任を負いません。

YouTube API利用規約: https://developers.google.com/youtube/terms/api-services-terms-of-service

================================================================================
■ サポート・問い合わせ
================================================================================

不具合報告や機能要望は、配布元にお問い合わせください。

================================================================================
